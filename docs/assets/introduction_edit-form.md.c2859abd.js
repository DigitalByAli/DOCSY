import{_ as s,o as a,c as n,a as l}from"./app.832d160e.js";const p="/DOCSY/introduction/7-min.png",o="/DOCSY/introduction/8-min.png",e="/DOCSY/introduction/9-min.png",D="/DOCSY/introduction/10-min.png",t="/DOCSY/introduction/11-min.png",c="/DOCSY/introduction/12-min.png",A=JSON.parse('{"title":"Edit form","description":"","frontmatter":{},"headers":[{"level":2,"title":"Create new page","slug":"create-new-page","link":"#create-new-page","children":[]},{"level":2,"title":"URL & init method","slug":"url-init-method","link":"#url-init-method","children":[]},{"level":2,"title":"Static getUrl helper","slug":"static-geturl-helper","link":"#static-geturl-helper","children":[]},{"level":2,"title":"Uncomment lines in BrandIndex","slug":"uncomment-lines-in-brandindex","link":"#uncomment-lines-in-brandindex","children":[]},{"level":2,"title":"Page title and card","slug":"page-title-and-card","link":"#page-title-and-card","children":[]},{"level":2,"title":"Add input","slug":"add-input","link":"#add-input","children":[]},{"level":2,"title":"Add datatable","slug":"add-datatable","link":"#add-datatable","children":[{"level":3,"title":"Add the label and datatable","slug":"add-the-label-and-datatable","link":"#add-the-label-and-datatable","children":[]},{"level":3,"title":"Add the model name column","slug":"add-the-model-name-column","link":"#add-the-model-name-column","children":[]},{"level":3,"title":"Add action column with delete button","slug":"add-action-column-with-delete-button","link":"#add-action-column-with-delete-button","children":[]},{"level":3,"title":"Add a button to create a new row","slug":"add-a-button-to-create-a-new-row","link":"#add-a-button-to-create-a-new-row","children":[]}]}],"relativePath":"introduction/edit-form.md"}'),r={name:"introduction/edit-form.md"},y=l('<h1 id="edit-form" tabindex="-1">Edit form <a class="header-anchor" href="#edit-form" aria-hidden="true">#</a></h1><p>In this chapter we will make the following page:</p><img src="'+p+`" class="tw-rounded"><h2 id="create-new-page" tabindex="-1">Create new page <a class="header-anchor" href="#create-new-page" aria-hidden="true">#</a></h2><p>Create a new file <code>/views/BrandForm.page.ts</code> with the following content:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki"><code><span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">BasePage</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;oksy&#39;</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">Layout</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;./Components/Layout&#39;</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">default</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">BrandForm</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">extends</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">BasePage</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">	</span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">URL</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&#39;/brand/:brandId&#39;</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">	</span><span style="color:#DCDCAA;">view</span><span style="color:#D4D4D4;">() {</span></span>
<span class="line"><span style="color:#D4D4D4;">		</span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> [</span></span>
<span class="line"><span style="color:#D4D4D4;">			</span><span style="color:#DCDCAA;">Layout</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">, () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> []),</span></span>
<span class="line"><span style="color:#D4D4D4;">		];</span></span>
<span class="line"><span style="color:#D4D4D4;">	}</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="url-init-method" tabindex="-1">URL &amp; init method <a class="header-anchor" href="#url-init-method" aria-hidden="true">#</a></h2><p>Notice the <code>:brandId</code> parameter in the URL, this will be passed to the <code>init</code> method. We want to look up the <code>Brand</code> model using the <code>brandId</code> variable and return a 404 page if no brand could be found:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki has-diff"><code><span class="line diff add"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">Brand</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;../models/Brand&#39;</span><span style="color:#D4D4D4;">; </span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">default</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">BrandForm</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">extends</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">BasePage</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">	</span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">URL</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&#39;/brand/:brandId&#39;</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line diff add"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">private</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">Brand</span><span style="color:#D4D4D4;"> </span></span>
<span class="line"></span>
<span class="line diff add"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">init</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">brandId</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">string</span><span style="color:#D4D4D4;">) { </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">database</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getById</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;Brand&#39;</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">brandId</span><span style="color:#D4D4D4;">); </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> (</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;"> === </span><span style="color:#569CD6;">null</span><span style="color:#D4D4D4;">) </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">false</span><span style="color:#D4D4D4;">; </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">    } </span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">	</span><span style="color:#DCDCAA;">view</span><span style="color:#D4D4D4;">() { ... }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre></div><p>If the <code>init</code> function returns a <code>false</code> then a 404 page will be displayed to the user. You can try to visit <code>/brand/123</code>. A brand with the ID <code>123</code> does not exist so you should see a 404 page:</p><img src="`+o+`" class="tw-rounded"><h2 id="static-geturl-helper" tabindex="-1">Static getUrl helper <a class="header-anchor" href="#static-geturl-helper" aria-hidden="true">#</a></h2><p>Let&#39;s also add a static method to this page that returns us the URL of the page.</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki has-diff"><code><span class="line diff add"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> { </span><span style="color:#9CDCFE;">Workspace</span><span style="color:#D4D4D4;"> } </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;../models/Core/Workspace&#39;</span><span style="color:#D4D4D4;">; </span></span>
<span class="line"></span>
<span class="line"><span style="color:#C586C0;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">default</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">BrandForm</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">extends</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">BasePage</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">	</span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">URL</span><span style="color:#D4D4D4;"> = </span><span style="color:#CE9178;">&#39;/brand/:brandId&#39;</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">Brand</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">init</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">brandId</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">string</span><span style="color:#D4D4D4;">) { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">	</span><span style="color:#DCDCAA;">view</span><span style="color:#D4D4D4;">() { ... }</span></span>
<span class="line"></span>
<span class="line diff add"><span style="color:#D4D4D4;">    </span><span style="color:#569CD6;">static</span><span style="color:#D4D4D4;"> </span><span style="color:#DCDCAA;">getUrl</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">workspace</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">Workspace</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">: </span><span style="color:#4EC9B0;">Brand</span><span style="color:#D4D4D4;">) { </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        </span><span style="color:#C586C0;">return</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">\`/</span><span style="color:#569CD6;">\${</span><span style="color:#9CDCFE;">workspace</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">id</span><span style="color:#569CD6;">}</span><span style="color:#CE9178;">/brand/</span><span style="color:#569CD6;">\${</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">id</span><span style="color:#569CD6;">}</span><span style="color:#CE9178;">\`</span><span style="color:#D4D4D4;">; </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">    } </span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre></div><p>The <code>Workspace</code> also needs to be passed in because each URL is prefixed with the <code>workspace.id</code>.</p><h2 id="uncomment-lines-in-brandindex" tabindex="-1">Uncomment lines in <code>BrandIndex</code> <a class="header-anchor" href="#uncomment-lines-in-brandindex" aria-hidden="true">#</a></h2><p>Now that our <code>BrandForm</code> is present we can uncomment the navigate lines and add the <code>BrandForm</code> import in <code>BrandIndex</code>:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki"><code><span class="line"><span style="color:#6A9955;">// add import</span></span>
<span class="line"><span style="color:#C586C0;">import</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">BrandForm</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">from</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;./BrandForm.page&#39;</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A9955;">// uncomment</span></span>
<span class="line"><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">client</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">navigate</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">BrandForm</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getUrl</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">workspace</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">), </span><span style="color:#CE9178;">&#39;push&#39;</span><span style="color:#D4D4D4;">); </span></span>
<span class="line"></span></code></pre></div><h2 id="page-title-and-card" tabindex="-1">Page title and card <a class="header-anchor" href="#page-title-and-card" aria-hidden="true">#</a></h2><p>Just like the <code>BrandIndex</code> page we add a title and a white container to the page</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki has-diff"><code><span class="line"><span style="color:#C586C0;">export</span><span style="color:#D4D4D4;"> </span><span style="color:#C586C0;">default</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">class</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">BrandForm</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">extends</span><span style="color:#D4D4D4;"> </span><span style="color:#4EC9B0;">BasePage</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">	...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D4D4D4;">	</span><span style="color:#DCDCAA;">view</span><span style="color:#D4D4D4;">() {</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#DCDCAA;">Layout</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">, () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [</span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Text</span><span style="color:#D4D4D4;">({ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">label:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Edit Brand&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">class:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;text-4xl text-gray-700 font-medium mb-4&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            }), </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Container</span><span style="color:#D4D4D4;">({ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">class:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;w-full flex flex-col space-y-3 px-4 py-5 sm:p-6 rounded-lg shadow bg-white&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#DCDCAA;">items</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [], </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            }), </span></span>
<span class="line"><span style="color:#D4D4D4;">        ]),</span></span>
<span class="line"><span style="color:#D4D4D4;">    }</span></span>
<span class="line"><span style="color:#D4D4D4;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="add-input" tabindex="-1">Add input <a class="header-anchor" href="#add-input" aria-hidden="true">#</a></h2><p>In the white container we want to add an input for editing the brand name:</p><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki has-diff"><code><span class="line"><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Container</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">class:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;w-full flex flex-col space-y-3 px-4 py-5 sm:p-6 rounded-lg shadow bg-white&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">items</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [</span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Container</span><span style="color:#D4D4D4;">({ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">class:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;flex flex-col space-y-1&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#DCDCAA;">items</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Text</span><span style="color:#D4D4D4;">({ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">label:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Name&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">class:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;text-sm font-medium text-gray-900&#39;</span><span style="color:#D4D4D4;"> </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                }), </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Input</span><span style="color:#D4D4D4;">({ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#DCDCAA;">getter</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">name</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#DCDCAA;">setter</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">value</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">name</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">value</span><span style="color:#D4D4D4;"> </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                }), </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            ] </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        }), </span></span>
<span class="line"><span style="color:#D4D4D4;">    ],</span></span>
<span class="line"><span style="color:#D4D4D4;">}),</span></span>
<span class="line"></span></code></pre></div><p>You see that the <code>getter</code> and the <code>setter</code> of the <code>Input</code> are bound to <code>this.brand.name</code>.</p><img src="`+e+'" class="tw-rounded"><h2 id="add-datatable" tabindex="-1">Add datatable <a class="header-anchor" href="#add-datatable" aria-hidden="true">#</a></h2><p>Now let&#39;s make the datatable below the input where we can add different cars of the brand.</p><img src="'+D+`" class="tw-rounded"><h3 id="add-the-label-and-datatable" tabindex="-1">Add the label and datatable <a class="header-anchor" href="#add-the-label-and-datatable" aria-hidden="true">#</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki has-diff"><code><span class="line"><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Container</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">class:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;w-full flex flex-col space-y-3 px-4 py-5 sm:p-6 rounded-lg shadow bg-white&#39;</span><span style="color:#D4D4D4;">,</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">items</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [</span></span>
<span class="line"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Container</span><span style="color:#D4D4D4;">({ ... }), </span><span style="color:#6A9955;">// the input container</span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Container</span><span style="color:#D4D4D4;">({ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">class:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;flex flex-col space-y-1&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#DCDCAA;">items</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Text</span><span style="color:#D4D4D4;">({ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">label:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Cars&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">class:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;text-sm font-medium text-gray-900&#39;</span><span style="color:#D4D4D4;"> </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                }), </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">DataTable</span><span style="color:#D4D4D4;">({ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#DCDCAA;">data</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">cars</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">allWithDraft</span><span style="color:#D4D4D4;">(), </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">actions:</span><span style="color:#D4D4D4;"> [], </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#DCDCAA;">columns</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">car</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [], </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                }), </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            ] </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        }), </span></span>
<span class="line"><span style="color:#D4D4D4;">    ],</span></span>
<span class="line"><span style="color:#D4D4D4;">}),</span></span>
<span class="line"></span></code></pre></div><h3 id="add-the-model-name-column" tabindex="-1">Add the model name column <a class="header-anchor" href="#add-the-model-name-column" aria-hidden="true">#</a></h3><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki has-diff"><code><span class="line"><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">DataTable</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">data</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">cars</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">allWithDraft</span><span style="color:#D4D4D4;">(),</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">actions:</span><span style="color:#D4D4D4;"> [],</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">columns</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">car</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [</span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        { </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">name:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Model&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#DCDCAA;">view</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Input</span><span style="color:#D4D4D4;">({ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#DCDCAA;">getter</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">car</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">model</span><span style="color:#D4D4D4;"> ?? </span><span style="color:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#DCDCAA;">setter</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">value</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">car</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">model</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">value</span><span style="color:#D4D4D4;"> </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                }) </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            ] </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        }, </span></span>
<span class="line"><span style="color:#D4D4D4;">    ],</span></span>
<span class="line"><span style="color:#D4D4D4;">}),</span></span>
<span class="line"></span></code></pre></div><p>This column is just a simple <code>Input</code> that is bound to <code>car.model</code>.</p><h3 id="add-action-column-with-delete-button" tabindex="-1">Add action column with delete button <a class="header-anchor" href="#add-action-column-with-delete-button" aria-hidden="true">#</a></h3><p>We also want to delete a car from the brand with this button:</p><img src="`+t+`" class="tw-rounded"><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki has-diff"><code><span class="line"><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">DataTable</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">data</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">cars</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">allWithDraft</span><span style="color:#D4D4D4;">(),</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">actions:</span><span style="color:#D4D4D4;"> [],</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">columns</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">car</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [</span></span>
<span class="line"><span style="color:#D4D4D4;">        { ... }, </span><span style="color:#6A9955;">// the model column</span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        { </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">name:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#DCDCAA;">view</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> ({ </span><span style="color:#9CDCFE;">refresh</span><span style="color:#D4D4D4;"> }) </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">Button</span><span style="color:#D4D4D4;">({ </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">type:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;danger&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">label:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Delete&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">icon:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;delete&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#9CDCFE;">ghost:</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">true</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    </span><span style="color:#DCDCAA;">onClick</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">async</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> { </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                        </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">confirm</span><span style="color:#D4D4D4;"> = </span><span style="color:#C586C0;">await</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">client</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">confirm</span><span style="color:#D4D4D4;">( </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                            </span><span style="color:#CE9178;">&#39;Are you sure?&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                            </span><span style="color:#CE9178;">&#39;This action can not be reversed!&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                            </span><span style="color:#CE9178;">&#39;Yes, delete car.&#39;</span><span style="color:#D4D4D4;"> </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                        ); </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                        </span><span style="color:#C586C0;">if</span><span style="color:#D4D4D4;"> (</span><span style="color:#9CDCFE;">confirm</span><span style="color:#D4D4D4;">) { </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                            </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">database</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">delete</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">car</span><span style="color:#D4D4D4;">); </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                            </span><span style="color:#DCDCAA;">refresh</span><span style="color:#D4D4D4;">() </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                        } </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                    } </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                }) </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            ] </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        }, </span></span>
<span class="line"><span style="color:#D4D4D4;">    ],</span></span>
<span class="line"><span style="color:#D4D4D4;">}),</span></span>
<span class="line"></span></code></pre></div><h3 id="add-a-button-to-create-a-new-row" tabindex="-1">Add a button to create a new row <a class="header-anchor" href="#add-a-button-to-create-a-new-row" aria-hidden="true">#</a></h3><p>Let&#39;s make a button to create a new row to the car&#39;s datatable:</p><img src="`+c+`" class="tw-rounded"><div class="language-ts"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki has-diff"><code><span class="line"><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#4FC1FF;">UI</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">DataTable</span><span style="color:#D4D4D4;">({</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">data</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> () </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">cars</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">allWithDraft</span><span style="color:#D4D4D4;">(),</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#9CDCFE;">actions:</span><span style="color:#D4D4D4;"> [</span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        { </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">icon:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;add&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#9CDCFE;">label:</span><span style="color:#D4D4D4;"> </span><span style="color:#CE9178;">&#39;Add&#39;</span><span style="color:#D4D4D4;">, </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            </span><span style="color:#DCDCAA;">onClick</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> ({ </span><span style="color:#9CDCFE;">refresh</span><span style="color:#D4D4D4;"> }) </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> { </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#569CD6;">const</span><span style="color:#D4D4D4;"> </span><span style="color:#4FC1FF;">car</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">database</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">create</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;Car&#39;</span><span style="color:#D4D4D4;">); </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#9CDCFE;">car</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;"> = </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">brand</span><span style="color:#D4D4D4;">; </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">                </span><span style="color:#DCDCAA;">refresh</span><span style="color:#D4D4D4;">(); </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">            } </span></span>
<span class="line diff add"><span style="color:#D4D4D4;">        }, </span></span>
<span class="line"><span style="color:#D4D4D4;">    ],</span></span>
<span class="line"><span style="color:#D4D4D4;">    </span><span style="color:#DCDCAA;">columns</span><span style="color:#9CDCFE;">:</span><span style="color:#D4D4D4;"> </span><span style="color:#9CDCFE;">car</span><span style="color:#D4D4D4;"> </span><span style="color:#569CD6;">=&gt;</span><span style="color:#D4D4D4;"> [ ... ],</span></span>
<span class="line"><span style="color:#D4D4D4;">}),</span></span>
<span class="line"></span></code></pre></div>`,42),d=[y];function i(C,f,h,u,F,E){return a(),n("div",null,d)}const g=s(r,[["render",i]]);export{A as __pageData,g as default};
